\documentclass[parskip=full,11pt]{scrartcl}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[german]{babel}
\usepackage[useregional]{datetime2}
\usepackage[pdfborderstyle={/S/U/W 0}]{hyperref}
\usepackage[nameinlink]{cleveref}
\usepackage[section]{placeins}
\usepackage{xcolor}
\usepackage{graphicx}
\usepackage{csquotes}
\usepackage{amsmath} % for $\text{}$
\usepackage{pflichtenheft}
\usepackage{enumitem}
\setlist{nosep}

\newcommand\urlpart[2]{$\underbrace{\text{\texttt{#1}}}{\text{#2}}$}
\raggedbottom
\crefname{figure}{Abb}{Abb}

\newcommand\producttitle{treff.}
\hypersetup{
	pdftitle={Pflichtenheft: \producttitle},
	bookmarks=true,
}

% section numbers in margins:
\renewcommand\sectionlinesformat[4]{\makebox[0pt][r]{#3}#4}

% header & footer
\usepackage{scrlayer-scrpage}
%\lofoot{\today}
%\refoot{\today}
\pagestyle{scrheadings}

\title{\includegraphics[width = 80mm]{images/logo_crop.png}}
\subtitle{\huge Pflichtenheft}
\author{Lukas Dippon
        \and Jens Kienle
        \and Matthias Noll
        \and Fabian Röpke
        \and Tim Schmidt
        \and Simon Vögele}

\begin{document}
\maketitle
\thispagestyle{empty} % removed page number from title

\section*{} % No section number on intro, also removes it from TOC
Studenten und Mitarbeiter des KIT treffen sich gerne zum gemeinsamen Essen oder Lernen.
Dazu ist es notwendig zu wissen, ob an einem bestimmten Tag bereits ein Treffen vereinbart wurde.
Am Treffpunkt angekommen, möchte man wissen, an welchem Ort sich die Gruppe befindet, um nicht lange suchen zu müssen.
Unsere App soll es angemeldeten Benutzern ermöglichen, sich in Gruppen zu organisieren.
In den Gruppen kann der Zeit- und Treffpunkt bestimmt werden.
Sobald diese festgelegt wurden, soll die App die GPS-Standorte der Mitglieder anzeigen, um das Treffen zu vereinfachen.

\pagebreak
\tableofcontents

%%%%%%%%%%%%%%
\pagebreak
\section{Kriterien}
% Diese Section sollte kurz und knapp "für Manager" sein
% und auf eine Seite passen.

\subsection{Pflichtkriterien}
\criterion{Gruppen}{groups}
Mehrere Nutzer können sich in Gruppen zusammenschließen.
Ein Nutzer kann in beliebig vielen Gruppen Mitglied sein.

\criterion{Eigene Position auf Umgebungskarten}{location}
Der Nutzer ist in der Lage, seine aktuelle Position auf einer Karte der nahen
Umgebung einzusehen.

\criterion{Festlegbare Treffpunkte}{meetingpoints}
Innerhalb von Gruppen können Treffpunkte festgelegt werden,
die den Mitgliedern auf der Karte angezeigt werden.

\criterion{Gegenseitige Ortung}{positions}
Nutzer sind in der Lage, ihre aktuelle Position mit anderen Gruppenmitgliedern
über einen festlegbaren Zeitraum zu teilen.
Diese wird dann allen Gruppenmitgliedern auf der Karte angezeigt und laufend
aktualisiert.

\criterion{Datenschutz}{privacy}
Die Positionsdaten des Nutzers werden nur während des festgelegten Zeitraumes
(\critLink{positions}) gesendet und serverseitig nicht
längerfristig gespeichert.

\criterion{Nutzerkonten}{account}
Ein persönliches Nutzerkonto ermöglicht es Nutzern,
Gruppenzugehörigkeiten und Datenschutzoptionen zu speichern.

\subsection{Kürkriterien}
\criterionOpt{Abstimmungen}{vote}
Innerhalb von Gruppen können die Nutzer über nächste Treffpunkte abstimmen.

\criterionOpt{Detailliertere Innenraumkarten}{indoor}
Innenräume mit hoher Nutzerdichte bekommen detaillierte Innenraumkarten.

\criterionOpt{Gruppenchat}{chat}
Innerhalb der Gruppen können simple Textnachrichten versendet werden.

\criterionOpt{1 zu 1 Verbindung}{1to1}
Der Positionsaustausch und Chat zwischen zwei einzelnen Nutzern außerhalb von
Gruppen soll möglich und besonders einfach sein.

\criterionOpt{Eigene Server}{ownServer}
Es ist dem Nutzer möglich, einen eigenen Server zu erstellen und zu verwalten.

\criterionOpt{Server-Wechsel}{switchServer}
Um \critLink{ownServer} ausnutzen zu können, ist es dem Nutzer
möglich, den verwendeten Server zu wechseln.

\criterionOpt{Zeitplan für Positionsübertragung}{timetable}
Der Nutzer kann zu bestimmten Zeiten seine Position automatisch an bestimmte
Gruppen übertragen lassen.

\criterionOpt{Passwortzurücksetzung}{passwordReset}
Der Nutzer kann sein Passwort zurücksetzen lassen, wenn er sich über eine zuvor
festgelegte E-Mail-Adresse authentifizieren kann.

\subsection{Abgrenzungskriterien}
\criterionDemarc{Kein Social Network}{socialNetwork}
Die App bietet keine Plattform um Bilder oder andere persönliche Eindrücke mit
anderen zu teilen.

\criterionDemarc{Kontakt nur zu Freunden}{friendsOnly}
Die App soll die Kommunikation in bereits bestehenden Gruppen vereinfachen,
nicht den Kontakt zu Fremden ermöglichen.

\criterionDemarc{Beidseitiges Einverständnis}{consensual}
Die Anwendung bietet keine Möglichkeit, Personen zu orten,
die ihre Position nicht ausdrücklich zugänglich gemacht haben.
Beispielsweise erlaubt es die App Eltern nicht, ständig ihre Kinder zu orten.

%%%%%%%%%%%%%%
\pagebreak
\section{Produkteinsatz}
Das Produkt dient zur Erleichterung der Treffpunktvereinbarung und des Zusammenfindens
am Treffpunkt für geschlossene Gruppen von Freunden, Kollegen oder
Familienmitgliedern.

\subsection{Anwendungsbereiche}
\begin{itemize}
    \item Verabredungen in der Freizeit oder während der Arbeit
    \item Zusammenfindung auf größeren Veranstaltungen
\end{itemize}

\subsection{Zielgruppen}
\begin{itemize}
    \item Freundesgruppen
    \item Arbeitskollegen
    \item Familien
\end{itemize}

\subsection{Betriebsbedingungen}
\begin{itemize}
    \item Mobiler Einsatz in Umgebungen mit GPS-Empfang und Zugang zum Internet
\end{itemize}

\subsection{Anwendungsfallszenarien}
\begin{description}
\item[Familienfeier]
An Weihnachten kann es oft schwer sein, ein Essen mit der ganzen Familie zu organisieren.
Auch, wenn die Planung schon abgeschlossen ist, kann die App eine sinnvolle Hilfe darstellen:

Die Verabredung \enquote{Weihnachtsessen} ist bereits erstellt und alle Mitglieder der Gruppe möchten daran teilnehmen.
Nach und nach treffen alle beim Gastgeber ein. Allerdings schafft es Bob nicht, zur vereinbarten Uhrzeit zu erscheinen.
Aufgrund von Stau auf der Autobahn verspätet er sich.
Als pflichtbewusster Autofahrer bedient er sein Handy nicht während der Fahrt.
Stattdessen hat er bereits vor Antritt der Fahrt seinen Standort freigegeben.
Dies erkennt auch der Gastgeber auf der Karte von treff. So kann er den Kochvorgang dann entsprechend anpassen.

\item[Abendprogramm (nutzt auch Kürkriterien)]
Studenten treffen sich auch Abseits des Studiums gerne, um den Abend gemeinsam zu verbringen.
Die Nutzung der Anwendung kann dabei folgendermaßen aussehen:

Nachdem sich die Gruppe entschieden hat, am Abend etwas zu unternehmen,
können über den Chat Ideen gesammelt werden, wann und wo man sich treffen solle.
Anschließend wird eine Abstimmung gestartet, an der sich jeder beteiligen kann.
Währenddessen nutzt Alice die Chatfunktion, um die Gruppe darüber zu informieren, dass sie ihren neuen Freund Bob mitbringt.
Durch die Abstimmung wurde inzwischen eine Verabredung bestimmt.
Zudem hat sich ein Teil der Gruppe dazu entschieden, sich vor der eigentlichen Verabredung noch bei Alice zu Hause zu treffen.
Am Abend schalten alle Mitglieder, vor Beginn des Treffens, die Standortübermittlung frei.
Der Teil der Gruppe, der nicht bei Alice ist, erkennt nun auf der Karte,
dass kurz vor Beginn der Verabredung noch niemand bei Alice losgegangen ist.
Um nicht lange unwissend warten zu müssen,
gehen nun alle zu Alice, um von dort aus dann gemeinsam zum verabredeten Ort weiterzuziehen.
\end{description}

%%%%%%%%%%%%%%
\pagebreak
\section{Produktumgebung}
Das Produkt beinhaltet ein Client-Server-Modell.
Der Server dient lediglich als Vermittler zwischen Klienten.
Die Nutzer verwenden den Klienten auf ihrem mobilen Endgerät.
\subsection{Software}
\begin{itemize}
    \item Klient: Android 6 (\enquote{Marshmallow}, API-Level 23) oder
        höher.
    \item Server: Apache Tomcat 8
\end{itemize}

\subsection{Hardware}
% TODO: Mindestanforderungen an Hardware-Performance
\begin{itemize}
    \item Klient: Android-fähiges mobiles Endgerät mit
        \begin{itemize}
            \item GPS-Empfänger
            \item Netzwerkkarte mit WLAN-Modul oder Mobilfunkeinheit
        \end{itemize}
    \item Server: Handelsüblicher Servercomputer, der Apache Tomcat 8
        unterstützt und eine Internetanbindung besitzt.
\end{itemize}

%%%%%%%%%%%
\pagebreak
\section{Funktionale Anforderungen}

\subsection{Pflichtanforderungen}

\functionality{Benutzerkonten}{account}
\fulfills{account}%
Der Nutzer wird beim Starten der Anwendung aufgefordert, sich ein
Benutzerkonto zu erstellen oder sich mit einem bereits vorhandenen anzumelden.
Er kann sich wieder abmelden und Konten wechseln.

\functionality{Kontakte}{contacts}%
\fulfills{groups}%
\fulfills{account}%
Nutzer können einander als Kontakte hinzufügen.
Ein Nutzer kann einen anderen Nutzer als Kontakt hinzufügen,
indem er dessen Benutzernamen angibt.
Fügt ein Nutzer einen anderen hinzu,
wird dessen Kontaktliste ebenfalls entsprechend aktualisiert.

\functionality{Gründen von Gruppen}{groupfounding}
\fulfills{groups}%
Nutzer können Gruppen erstellen und diese verwalten, indem sie andere Nutzer
hinzufügen oder entfernen.

\functionality{Umgebungskarte}{map}
\fulfills{location}%
Der Nutzer kann eine Karte aufrufen, auf der seine eigene Position angezeigt
wird.

\functionality{Erstellung von Verabredungen innerhalb von Gruppen}
    {meetingpoints}
\fulfills{meetingpoints}%
Der Nutzer kann innerhalb einer Gruppe eine Verabredung, bestehend aus
Zeit und Treffpunkt, erstellen. Letzterer wird allen Gruppenmitgliedern auf der
Umgebungskarte (\fncLink{map}) angezeigt.
Außerdem legt er einen bestimmten Zeitpunkt vor dem Treffen fest,
zu dem die Teilnehmer darum gebeten werden sollen,
ihren Standort freizugeben (\fncLink{positions}).

\functionality{Übertragung der eigenen Position an die Gruppe}
    {positions}
\fulfills{positions}%
Der Nutzer kann seine aktuelle Position an die Gruppenmitglieder übertragen.
Übertragene Positionen werden allen Gruppenmitgliedern auf der Umgebungskarte
(\fncLink{map}) angezeigt.
Steht eine Verabredung an, wird der Nutzer automatisch gebeten, seine Position
für die Dauer der Verabredung freizugeben.

\functionality{Standortanfrage}{request}
\fulfills{positions}%
Der Nutzer kann in einer Gruppe eine Standortanfrage mit spezifiziertem
Zeitraum senden.
Die Mitglieder der Gruppe werden dann von der App gebeten,
ihren Standort für den gewünschten Zeitraum freizugeben.

\functionality{Verwaltung von Kontodaten}{options}
\fulfills{account}%
Der Nutzer soll folgende Änderungen an seinem Konto vornehmen können:
\begin{itemize}
		\item Nutzername ändern
    \item Mit dem Konto verbundenes Passwort ändern
    \item Mit dem Konto verbundene E-Mail-Adresse ändern
    \item Konto löschen
\end{itemize}

\functionality{Verabredungsliste}{eventlist}
\fulfills{groups}%
\fulfills{meetingpoints}%
Der Nutzer kann eine Liste aufrufen, in der alle Verabredungen aller Gruppen
des Nutzers nach Zeitpunkt sortiert angezeigt werden.

\subsection{Küranforderungen}

\functionalityOpt{Abstimmungen}{vote}
\fulfills{vote}%
Der Nutzer kann innerhalb von Gruppen Abstimmungen erstellen.
Diese werden zeitlich begrenzt.
Der Abstimmung lassen sich beliebig viele Treff- und Zeitpunkte hinzufügen,
sowie Stimmen abgeben und verändern.
Alle zur Wahl stehenden Treffpunkte werden dabei als solche auf der
Umgebungskarte (\fncLink{map}) markiert.
Nach Ablauf des Zeitlimits wird eine Verabredung, bestehend aus jeweils dem
Treff- und Zeitpunkt mit den meisten Stimmen, erstellt.
Alle anderen Treff- und Zeitpunkte werden verworfen.

\functionalityOpt{Gruppenchat}{chat}
\fulfills{chat}%
Jede Gruppe verfügt über einen Chat, in dem simple Nachrichten an alle
Gruppenmitglieder versandt werden können.

\functionalityOpt{Gruppenrollen und -rechte}{admin}
Innerhalb einer Gruppe können unterschiedliche Rollen
mit spezifischen Rechten definiert und an Mitglieder verteilt werden.
\footnote{Die Implementierung dieser Anforderung kann zur Verfälschung von
Testergebnissen führen, wenn Gruppenmitglieder nicht die nötigen Rechte haben
um bestimmte Aktionen auszuführen.}

\functionalityOpt{Detaillierte Innenraumkarten}{indoor}
\fulfills{indoor}%
Für Innenräume, in denen eine hohe Nutzerdichte erwartet wird, werden
detaillierte Innenraumkarten in die Umgebungskarte integriert. Die Menge an
Innenraumkarten kann mit weiteren, späteren Versionen noch erweitert werden.

\functionalityOpt{Eigene Server}{ownServer}
\fulfills{ownServer}%
Es soll möglich sein, einen eigenen Server einzurichten und diesen statt des
standardmäßig zur Verfügung stehenden Servers zu verwenden.
Zwischen verschiedenen Servern findet keine Kommunikation statt.
Insbesondere werden Nutzerkonten nur serverweit gespeichert.
Für die Einrichtung eines eigenen Servers wird keine Hardware zur Verfügung
gestellt und die benötigten Systemadministrationskenntnisse vorausgesetzt.

\functionalityOpt{Serverwechel}{switchServer}
\fulfills{switchServer}%
Das Wechseln des Servers soll innerhalb der App und noch vor dem Login in ein
Benutzerkonto möglich sein.

\functionalityOpt{Stummschalten}{mute}
\fulfills{groups}%
Sowohl der Gruppenchat (\fncLink{chat}), als auch die
Abstimmungen (\fncLink{vote}) und Übertragungsanfragen
(\fncLink{positions}) lassen sich unabhängig voneinander
\enquote{stummschalten}, d.h. es lassen sich jegliche Benachrichtigungen für den
Nutzer unterdrücken.
\footnote{Die Implementierung dieser Anforderung beeinflusst alle Tests, in denen
	Gruppenmitglieder über Aktivitäten benachrichtigt werden insofern, dass diese Benachrichtigungen
	manche Mitglieder nicht erreichen, wenn diese die Gruppe stummgeschaltet haben.}
Es lassen sich auch konkrete andere Nutzer stummschalten, so dass das
Hinzufügen zu den Kontakten durch diese verhindert wird.

\functionalityOpt{Zeitplan für Positionsübertragung}{timetable}
\fulfills{timetable}%
Der Nutzer kann einzelnen Gruppen einen persönlichen wöchentlichen Zeitplan
zuteilen, in dem er festlegt, zu welchen Zeiten er automatisch seine Position
in der Gruppe freigibt.

\functionalityOpt{Passwortzurücksetzung}{passwordReset}
\fulfills{passwordReset}%
Hat ein Nutzer sein Passwort vergessen, kann er eine E-Mail an seine zuvor
mit dem Konto verbundene E-Mail-Adresse senden lassen.
Diese Mail enthält Zugangsdaten, mit denen er sich temporär auch ohne das
Passwort authentifizieren und das Passwort ändern kann.
Dabei wird das vorherige Passwort nicht preisgegeben.

\functionalityOpt{Sprachen}{languages}
Es werden als Sprachen Deutsch und Englisch angeboten.
Die Menge an Sprachen kann mit weiteren, späteren Versionen noch erweitert
werden.
Die Sprache der App wird automatisch der Systemsprache angepasst, sofern diese
unterstützt wird.

%%%%%%%%%%
\pagebreak
\section{Nicht-Funktionale Anforderungen}

\nonFunctionality{Kommunikation zwischen zwei einzelnen Personen}{1to1}
\fulfills{1to1}%
Es soll für zwei Einzelpersonen noch einfacher sein, ihren Standort miteinander
zu teilen oder zu chatten. Dies soll in weniger Schritten möglich sein, als
manuell eine Gruppe aus zwei Leuten zu erstellen.

\nonFunctionality{Einfache Bedienung}{handling}
Damit die App sich gegen die gängigen Instant Messenger durchsetzen kann, muss
sie intuitiv und einfach bedienbar sein. Um dies zu erreichen, erfüllt die
graphische Benutzeroberfläche die \enquote{Material Design}-Richtlinien.

\nonFunctionality{Ressourcennutzung}{resourceUsage}
Um Akkulaufzeit und mobiles Datenvolumen zu sparen, findet die Aktualisierung
von Positionsdaten maximal einmal pro Sekunde statt.

\nonFunctionality{Mobile Nutzung}{connectionLoss}
Verbindungsabbrüche, wie sie im mobilen Netz öfter auftreten, führen nicht zu
Fehlfunktionen.

\nonFunctionality{Nutzeraufkommen}{userLoad}
Es müssen mindestens 1000 Nutzer die Anwendung in Verbindung mit dem gleichen
Server gleichzeitig verwenden können.

\nonFunctionality{Datenschutz}{privacy}
\fulfills{privacy}%
Der Umgang mit Nutzerdaten entspricht den deutschen Datenschutzgesetzen.

\nonFunctionality{Datenspeicherung}{data storage}
Daten über Standorte werden serverseitig nur so lange gespeichert, wie diese
für andere Nutzer einsehbar sein sollen.

%%%%%%%%%%%
\pagebreak
\section{Produktdaten}
\subsection{Nutzer}
\productDatum{Benutzername}{username}{10}
Der gewählte Benutzername

\productDatum{E-Mail-Adresse}{email}{20}
Die hinterlegte E-Mail-Adresse

\productDatum{Passwort}{password}{30}
Das gewählte Passwort in einer Form, die bei eventuellen Fremdzugriffen sicherheitsunkritisch ist

\productDatum{Kontakte}{friends}{40}
Alle hinzugefügten Kontakte

\productDatum{Gruppen}{groups}{50}
Alle Gruppen, in denen der Nutzer Mitglied ist

\subsection{Gruppe}
\productDatum{Name}{groupName}{60}
Name der Gruppe

\productDatum{Mitglieder}{memberList}{70}
Liste aller Mitglieder

\productDatum{Verabredungen}{eventList}{80}
Liste aller Verabredungen der Gruppe

\productDatum{Positionen}{positions}{90}
Aktuelle Positionen aller Mitglieder

%TODO: wunsch
\productDatum{Rechte}{permissions}{100}
Jedem Mitglied ist eine bestimmte Rolle zugeteilt

%TODO: wunsch
\productDatum{Chat}{chatlog}{110}
Liste aller Nachrichten der Gruppe, jeweils bestehend aus: Verfasser, Uhrzeit und Inhalt

%TODO: wunsch
\productDatum{Abstimmungen}{polls}{120}
Liste aller Abstimmungen der Gruppe, jeweils bestehend aus Ersteller, Erstellzeitpunkt, Endzeitpunkt, den Auswahlmöglichkeiten und weiteren Optionen. Zu jeder Auswahlmöglichkeit existiert eine Liste aller Nutzer, die für diese abgestimmt haben.

\subsection{Verabredung}
\productDatum{Name}{eventName}{130}
Name der Verabredung

\productDatum{Ersteller}{creator}{140}
Nutzer, der die Verabredung erstellt hat

\productDatum{Treffpunkt}{eventPlace}{150}
Ort, an dem die Verabredung stattfinden soll

\productDatum{Zeitpunkt}{eventTime}{160}
Zeitpunkt, an dem die Verabredung stattfinden soll

\productDatum{Teilnehmer}{participants}{170}
Liste aller Teilnehmer

%%%%%%%%%%%
\pagebreak
\section{Tests}
\subsection{Pflichtanforderungen}

\test{Account erstellen}{firstlogin}
\tests{account}
\testStep{Alice hat sich die Go-App soeben herunter geladen.}
{Sie öffnet die App zum ersten Mal.}
{Ihr wird ein Formular angezeigt, in dem sie einen gewünschten Nutzernamen
und ein Passwort eingeben kann.}

\testStep{Alice hat \enquote{alice123} als Nutzernamen und ein geheimes Passwort eingegeben.}
{Sie bestätigt ihre Angaben.}
{Alice befindet sich nun im Hauptmenü der App, von wo aus sie Zugriff auf alle Funktionen hat.}

\test{Kontakte hinzufügen}{contacts}
\tests{contacts}
\testStep{Claudio möchte seinen Freund Otto als Kontakt hinzufügen}
{Dazu drückt er in der Kontaktliste den Hinzufügen-Knopf und gibt Ottos Benutzernamen ein}
{Sowohl Claudio als auch Otto haben nun den jeweils anderen in ihrer Kontaktliste}

\test{Gruppe Erstellen}{grpcreate}
\tests{groupfounding}

\testStep{Nutzer Bob ist angemeldet und auf dem Hauptbildschirm.}
{Bob tippt auf den Tab  \enquote{Gruppen}.}
{Er bekommt die Liste aller Gruppen angezeigt, in denen er Mitglied ist.}

\testStep{Bob möchte eine Gruppe mit Freunden aus dem Fußball-Training erstellen.}
{Er tippt auf den Button, um eine neue Gruppe zu erstellen.}
{Er bekommt eine Liste all seiner Kontakte, die er in der App hinzugefügt hat, angezeigt.}

\testStep{Seine Freunde Charlie und Dave spielen ebenfalls Fußball.}
{Er tippt die beiden Namen an. Und schließt die Gruppenerstellung ab.}
{Das Übersichtsmenü der Gruppe wird angezeigt.}

\test{Karte anzeigen}{map}
\tests{map}
\testStep{Alice ist angemeldet und befindet sich auf der Startseite.}
{Sie tippt auf die Schaltfläche für die Umgebungskarte.}
{Auf einer Landkarte wird ihr sowohl die eigene Position, als auch die von ihren
eventuellen Verabredungen in ihrer Nähe angezeigt.
Falls es andere Mitglieder in ihren Gruppen gibt, die momentan
ihre Position teilen ist diese ebenfalls auf der Karte sichtbar.}


\test{Verabredung erstellen}{event}
\tests{meetingpoints}
\testStep{Bob möchte sich mit seinen Freunden zum Mittagessen treffen
und hat die App geöffnet.}
{Er wählt die Gruppe aus, in der viele seiner Freunde und Kommilitonen Mitglied sind.}
{Er bekommt alle anstehenden Verabredungen dieser Gruppe angezeigt.}

\testStep{Bob sieht, dass noch keine Verabredung zum Mittagessen vorhanden ist.}
{Er tippt auf die Schaltfläche \enquote{Neue Verabredung}.}
{Die App zeigt ihm ein Formular, in dem er Name, Zeit und Ort der Verabredung eingeben kann.}

\testStep{Bob hat als Namen \enquote{Mittagessen}, 12:50 Uhr als Uhrzeit angegeben und auf
einer Karte die Mensa als Treffpunkt markiert.}
{Er bestätigt seine Angaben mit \enquote{Verabredung erstellen}.}
{Ein Dialog um anzugeben, wann die anderen Mitglieder benachrichtigt werden sollen, erscheint.}

\testStep{Bob entscheidet sich für \enquote{20 min vor Verabredung}.}
{Wieder bestätigt er seine Angaben.}
{Auf den Umgebungskarten aller Gruppenmitglieder wird nun die eben erstellte Verabredung markiert.
Alle anderen Gruppenmitglieder erhalten eine Benachrichtigung,
dass eine neue Verabredung hinzugefügt wurde.}

\testStep{Es ist nun 12:30 Uhr, eine weitere Benachrichtigung wurde an alle Gruppenmitglieder
gesendet mit einer Aufforderung jetzt ihren Standort zu teilen.}
{Bob und seine Freunde Ted, Victor und Grace stimmen zu, dass ihr Standort geteilt wird.}
{Auf der Karte ist nun neben der Markierung für die Verabredung auch ein Marker für
jeden der Freunde zu sehen.}


\test{Übertragung der eigenen Position an die Gruppe}{positions}
\tests{positions}
\testStep{Bob ist in der App angemeldet und möchte seinen Standort mit einer Gruppe teilen.}
{Er navigiert von der Startseite auf die Gruppenliste, öffnet die betreffende Gruppe und wählt aus, seinen Standort freizugeben}
{Die App zeigt nun ein Formular, auf dem Bob den Zeitraum der Freigabe spezifizieren kann.}

\testStep{Bob möchte seine Position für eine halbe Stunde teilen.}
{Bob gibt die 30 Minuten ein und teilt seinen Standort}
{Bob's Standort ist für alle Mitglieder der Gruppe für 30 Minuten sichtbar.}


\test{Standortanfrage}{request}
\tests{request}
\testStep{Bob ist in der App angemeldet und möchte eine Standortanfrage an die Mitglieder seiner Lerngruppe senden.}
{Er navigiert von der Startseite auf die Gruppenliste, wählt seine Lerngruppe aus und wählt aus, eine Standortanfrage zu senden.}
{Die App zeigt nun ein Formular, auf dem Bob den Zeitraum der Anfrage spezifizieren kann.}

\testStep{Bob möchte die Standorte innerhalb der nächsten Stunde einsehen}
{Er gibt den Zeitraum von einer Stunde ein und startet die Anfrage.}
{Die App sendet eine Standortanfrage an alle Mitglieder der Lerngruppe.}

\testStep{Alice hat die Anfrage erhalten und möchte ihren Standort freigeben.}
{Sie wählt innerhalb der App aus, die Anfrage zu akzeptieren.}
{Der Standort von Alice wird nun auf der Karte angezeigt.}

\testStep{Ned hat die Anfrage erhalten und möchte seinen Standort nicht freigeben.}
{Er wählt innerhalb der App aus, die Anfrage abzulehnen.}
{Der Standort von Ned bleibt auf der Karte verborgen.}

\testStep{Eine Stunde ist vergangen.}
{Keine Eingaben werden getätigt.}
{Der Standort von Alice ist auf der Karte nicht mehr einsehbar}


\test{Kontoverwaltung}{options}
\tests{options}
\testStep{Craig ist um die Sicherheit seiner Daten im Internet besorgt.
	Er möchte deshalb sein Passwort regelmäßig ändern.}
{Craig navigiert zu den Kontoeinstellungen und wählt \enquote{Passwort ändern}.}
{Es wird ein Formular in das Craig sein altes und sein gewünschtes neues Passwort eintragen kann.}

\testStep{Craig hat alle nötigen Angaben gemacht.}
{Er bestätigt seine Angaben.}
{Craig erhält eine E-Mail als Bestätigung, dass sein Passwort geändert wurde.}
Anmerkung: Mit dem gleichen Ablauf kann der Nutzer auch seinen Nutzernamen oder seine
E-Mail-Adresse ändern oder seinen Account löschen.



\test{Terminplanung}{eventlist}
\tests{eventlist}
\testStep{Oscar ist in der App angemeldet und möchte sehen, wie sein Terminplan für die nächsten Tage aussieht.}
{Er navigiert von der Startseite auf die Verabredungsliste.}
{Die App zeigt ihm eine Liste aller zukünftigen Verabredungen.
Unter Anderem zum Beispiel ein Treffen mit seiner Lerngruppe heute um 14 Uhr
und ein gemeinsames Abendessen mit seinen Freunden aus dem Training morgen um 19 Uhr.}


\subsection{Küranforderungen}
\test{Abstimmung}{poll}
\tests{vote}
\testStep{Bob möchte mit seinen Freunden Abends in eine Bar gehen.
Alle diese Freunde sind bereits Mitglied in der Gruppe \enquote{Lerngruppe}.}
{Bob navigiert auf die Gruppe und wählt \enquote{Neue Abstimmung}.}
{In einem Formular kann Bob einen Namen eingeben und Wahlmöglichkeiten hinzufügen,
	sowie eine Uhrzeit wählen.}

\testStep{Bob nennt die Abstimmung \enquote{Barabend}, wählt als Uhrzeit 19 Uhr und
fügt \enquote{Enchiladas} und \enquote{Ox} als Optionen hinzu. Er bestimmt eine Abstimmzeit von einer Stunde.}
{Bob bestätigt seine Angaben.}
{Eine neue Abstimmung wird erstellt und alle Gruppenmitglieder werden darüber benachrichtigt.
Die möglichen Treffpunkte werden bei allen Mitgliedern auf der Umgebungskarte angezeigt.}

\testStep{Bob hat bereits für Ox abgestimmt, weil er dann nicht so weit laufen muss.}
{Alice wurde über die Abstimmung benachrichtigt, möchte aber heute nicht viel Geld ausgeben.
Sie fügt deshalb \enquote{Z10} als Option zu der Abstimmung hinzu.}
{Die Abstimmung wird um eine Option erweitert und
wieder alle Mitglieder über die Veränderung benachrichtigt.}

\testStep{Alle Mitglieder werden über die Veränderung benachrichtigt und Einige stimmen ab.}
{Obwohl Bob zuvor schon eine Stimme für Ox abgegeben hat, wählt er jetzt zusätzlich Z10.}
{Nach einer Stunde ist die Abstimmung zu Ende und das Ergebnis steht fest.
Die Abstimmung wird automatisch gelöscht und stattdessen eine Verabredung erstellt mit der
eingestellten Uhrzeit und dem Treffpunkt, welcher die meisten Stimmen bekommen hatte.}


\test{Gruppenchat}{chat}
\tests{chat}
\testStep{Alice hat eine Verabredung für heute Abend erstellt weil sie sich mit ihren Freunden
treffen will. Ted hat allerdings keine Zeit und möchte Missverständnisse vermeiden, sodass
die Anderen nicht aus Versehen auf ihn warten.}
{Er öffnet die Gruppe und wählt die Chat Funktion aus. Er schreibt \enquote{Ich kann heute Abend leider nicht, braucht nicht Zu warten.} und schickt die Nachricht ab.}
{Die anderen Gruppenmitglieder werden benachrichtigt, dass sie eine neue Nachricht haben.}

\testStep{Alice hat Ted schon eine Weile nicht mehr gesehen und findet Teds Fehlen schade.}
{Sie navigiert ebenfalls auf den Chat und antwortet \enquote{Schade, hoffentlich dann beim
nächsten Mal}.}
{Wieder bekommen die Anderen eine Benachrichtigung.}

\test{Innenraumkarten}{indoor}
\tests{indoor}
\testStep{In einem neuen Update wurden Innenraumkarten für häufig besuchte
	Orte auf dem Campus des KIT hinzugefügt, wie der Mensa und dem Audimax.
	Alice trifft sich mit ihren Freunden in der Mensa und hat dafür die Standortabfrage aktiviert.}
{Um genau zu sehen, wo sich ihre Freunde befinden, vergrößert sie den entsprechenden
Ausschnitt der Umgebungskarte.}
{Ihr wird nun eine Innenraumkarte angezeigt, in der sie sehen kann in welchem Teil
des Speisesaals ihre Freunde sitzen.}


\test{Stummschalten}{mute}
\tests{mute}
\testStep{Bob macht für eine Woche Urlaub und möchte währenddessen nicht von
Benachrichtigungen, die nur seine Freunde in Karlsruhe betreffen, gestört werden.}
{Er wählt deshalb seine Freundesgruppe aus und stellt Chat, Abstimmungen und Anfragen auf stumm.}
{Er wird von nun an nicht mehr über Aktivitäten in dieser Gruppe benachrichtigt,
bis er diese Einstellung wieder ändert.}

\test{Gruppenrollen und -rechte}{admin}
\tests{admin}
\testStep{Alice hat eine Gruppe gegründet und Bob hinzugefügt. Bob möchte wiederum
seine Freunde hinzufügen, aber hat nicht die Rechte dazu.}
{Alice nutzt ihre Administratorrechte und erlaubt Bob, Gruppenmitglieder hinzuzufügen.}
{Bob kann nun weitere Nutzer der Gruppe hinzufügen.}

\test{Sprache}{language}
\tests{languages}
\testStep{Alice besucht einen Englisch-Sprachkurs und ihr wurde empfohlen, auch ihr Handy
auf Englisch zu stellen, um sich mehr an die Sprache zu gewöhnen.}
{Sie benutzt weiterhin die \producttitle-App um sich mit ihren Freunden zu treffen.}
{Da ihre Systemsprache nun Englisch ist, werden ihr auch in der App alle Bezeichnungen
nun ins Englische übersetzt angezeigt.}

\test{Eigene Server}{ownServer}
\tests{ownServer}
\testStep{Charlie vertraut dem Betreiber des standardmäßig ausgewählten Servers
nicht, seine Daten zu schützen.
Deswegen will er seinen eigenen Server aufsetzen.}
{Er tut dies und gibt seinen Freunden die Adresse seines Servers.}
{Seinen Freunden ist es nun möglich in der App den Server zu wechseln, indem
sie die Serverauswahl öffnen und die Adresse von Charlies Server eingeben.
Anschließend funktioniert die App wie gewohnt. Kontakte und Gruppen auf anderen
Servern werden allerdings nicht mehr angezeigt.}


\test{Serverwechsel}{switchServer}
\tests{switchServer}
\testStep{Dave öffnet die App und will, da ein Freund von ihm einen eigenen
Server hostet, nicht den Standardserver benutzen.}
{Er wählt auf dem Anmeldebildschirm die Serverauswahl aus und gibt die Adresse
des Servers seines Freundes ein.}
{Die App verbindet sich nun mit dem Server seines Freundes und Dave kann
diesen Server wie gewohnt benutzen.}


\test{Passwordzurücksetzung}{passwordReset}
\tests{passwordReset}
\testStep{Nicholas hat die App geöffnet und wird zum Login aufgefordert.
Allerdings hat Nicholas sein Passwort vergessen.}
{Nicholas gibt seinen Benutzernamen ein und drückt auf den
\enquote{Passwort vergessen}-Knopf.}
{Die App schickt eine E-Mail an die mit dem Benutzernamen assoziierte
E-Mail-Adresse und weißt Nicholas darauf hin.
Die App fordert ihn außerdem auf, die in der E-Mail enthaltenen temporären
Zugangsdaten einzugeben.}

\testStep{Nicholas hat eine E-Mail von der App erhalten.}
{Nicholas entnimmt der E-Mail die temporären Zugangsdaten.}
{Die App fordert Nicholas auf, ein neues Passwort einzugeben.}

\testStep{Nicholas ist temporär authentifiziert und wurde aufgefordert, sein
neues Passwort einzugeben.}
{Nicholas gibt sein neues Passwort ein.}
{Das mit dem vorher angegebenen Benutzernamen assoziierte Konto erhält das von
Nicholas nun angegebene Passwort.
Das alte Passwort und die temporären Zugangsdaten werden gelöscht.
Diese sind nun nicht mehr gültig.}

\test{Zeitplan für Positionsübertragung}{timetable}
\tests{timetable}
\testStep{Paul befindet sich in der Ansicht seiner Lerngruppe und möchte einstellen, wann er seinen Standort automatisch teilt.}
{Er tippt auf den Button, um den Zeitplan zu konfigurieren.}
{Ein Formular öffnet sich, in dem die Wochentage und zugehörigen Zeiten eingetragen werden können.}

\testStep{Paul möchte seinen Standort jeden Montag von 12 bis 13 Uhr teilen}
{Er gibt diese Daten ein und bestätigt den Zeitplan}
{Der Zeitplan ist nun gültig. Montags wird Pauls Standort von 12 bis 13 Uhr automatisch geteilt. Ansonsten ist er nicht einsehbar.}


%%%%%%%%%%%%%
\pagebreak
\appendix

\section{Seitenentwürfe}

\subsection{Anmelden und Registrieren}
\guiFigure{images/gui-mockups/login.png}
{login}
{Anmelden}
{0.5}
\guiFigure{images/gui-mockups/register.png}
{register}
{Registrieren}
{0.5}

Beim ersten Öffnen der App oder nachdem sich ein Nutzer abgemeldet hat, landet er auf diesem Bildschirm.
Durch einen Klick auf Anmelden oder Registrieren gelangt er in den Hauptbildschirm.

\pagebreak
\subsection{Gruppen und Kontakte}
\guiFigure{images/gui-mockups/home_groups.png}
{groups}
{Gruppen}
{0.5}
\guiFigure{images/gui-mockups/home_friends.png}
{friends}
{Kontakte}
{0.5}

Auf dem Hauptbildschirm kann der Nutzer alle seine Gruppen und Kontakte einsehen.

\pagebreak
\subsection{Verabredungen und Allgemeine Umgebungskarte}
\guiFigure{images/gui-mockups/home_events.png}
{events}
{Verabredungen}
{0.5}
\guiFigure{images/gui-mockups/home_map.png}
{map}
{Allgemeine Umgebungskarte}
{0.5}

Außerdem hat der Nutzer die Möglichkeit, vom Hauptbildschirm aus alle anstehenden Verabredungen aller Gruppen einzusehen oder sich diese auf einer Karte anzeigen zu lassen. 
Diese zeigt auch alle Kontakte, die zur Zeit ihren Standort freigeben.

\pagebreak
\subsection{Verabredungsliste einer Gruppe und Gruppenkarte}
\guiFigure{images/gui-mockups/group_events.png}
{groupEvents}
{Verabredungsliste einer Gruppe}
{0.5}
\guiFigure{images/gui-mockups/group_map.png}
{groupMap}
{Gruppenkarte}
{0.5}

Hat der Nutzer nun eine Gruppe angeklickt, so kann er die Veranstaltungen dieser Gruppe einsehen oder eine neue erstellen.
Sie werden auf einer Karte angezeigt, zusammen mit allen Gruppenmitgliedern, die gerade ihren Standort teilen.

\pagebreak
\subsection{Symbole auf Karten}
\guiFigure{images/gui-mockups/home_events.png}
{mapMarkers}
{Symbole auf Karten}
{1}

Auf Umgebungskarten aller Art wird die eigene Position mit einem Pfeil dargestellt. 
Ein anderer Nutzer wird durch eine Person und eine Ansammlung anderer Nutzer, die sich nah beieinander befinden, durch eine Gruppe repräsentiert.
Wenn eine Abstimmung über mehrere Orte läuft, werden diese als Ortsmarker mit Fragezeichen angezeigt\footnote[1]{Kürfunktionalität}, Verabredungen mit einem etwas größeren Ortsmarker.

\pagebreak
\subsection{Gruppenchat und Gruppenchat während dem Tippen}
\guiFigure{images/gui-mockups/group_chat_buttons.png}
{chatButtons}
{Gruppenchat}
{0.5}
\guiFigure{images/gui-mockups/group_chat.png}
{chat}
{Gruppenchat während dem Tippen}
{0.5}

Beim Klick auf eine Gruppe wird auch der
Chatbildschirm\footnote[1]{Kürfunktionalität} zugänglich.
Hier kann der Nutzer seine eigene Position freigeben, andere dazu auffordern,
eine Abstimmung erstellen\footnotemark[1] oder eine Textnachricht verfassen
und an die Gruppe schicken\footnotemark[1].

\pagebreak
\subsection{Gruppenmitglieder und Kontextmenü eines Gruppenmitglieds}
\guiFigure{images/gui-mockups/group_members.png}
{groupMembers}
{Gruppenmitglieder}
{0.5}
\guiFigure{images/gui-mockups/group_members_context.png}
{groupMembersContext}
{Kontextmenü eines Gruppenmitglieds}
{0.5}

Gruppenmitglieder können eingesehen, entfernt und hinzugefügt werden.
Es gibt gruppenspezifische Einstellungsmöglichkeiten, sowie die Option,
die Gruppe zu verlassen.
Beim Klick auf ein Gruppenmitglied erhält der Nutzer dieses aus der
Gruppe entfernen, zum Administrator ernennen\footnote[1]{Kürfunktionalität}
oder den Chat mit diesem Nutzer zu öffnen\footnotemark[1].

\pagebreak
\subsection{Verabredung  und Verabredungskarte}
\guiFigure{images/gui-mockups/event.png}
{event}
{Verabredung}
{0.5}
\guiFigure{images/gui-mockups/event_map.png}
{eventMap}
{Verabredungskarte}
{0.5}

Von Veranstaltungslisten gelangt der Nutzer auf die Seite der Veranstaltung oder deren Karte.

\pagebreak
\subsection{Seitenmenü}
\guiFigure{images/gui-mockups/home_groups_sidenav.png}
{sidenav}
{Seitenmenü}
{1}

Vom Hauptbildschirm aus erreicht der Nutzer die allgemeinen Einstellungen, Kontoeinstellungen, Informationen über das Produkt und kann sich abmelden.

\pagebreak
\section{Glossar}

\textbf{Android}:
Ein von der Open Handset Alliance entwickeltes Betriebssystem für Mobilgeräte.

\textbf{Apache Tomcat}:
Ein Open-Source-Webserver, der es erlaubt, in Java geschriebene Web-Anwendungen
auszuführen.

\textbf{GPS}:
Global Positioning System, ein globales Satellitensystem zur
Positionsbestimmung.

\textbf{Material Design}:
Von Google entwickelte Richtlinien für die Entwicklung von graphischen
Benutzeroberflächen.

\textbf{Verabredung}:
Ein festgelegter Ort und Zeitpunkt.

\end{document}
