<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="747px" preserveAspectRatio="none" style="width:1530px;height:747px;" version="1.1" viewBox="0 0 1530 747" width="1530px" zoomAndPan="magnify"><defs><filter height="300%" id="f1ocdza8zqxwg6" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1ocdza8zqxwg6)" height="14.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="109" y="480.1797"/><rect fill="#FFFFFF" filter="url(#f1ocdza8zqxwg6)" height="60" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="109" y="599.5859"/><rect fill="#FFFFFF" filter="url(#f1ocdza8zqxwg6)" height="452.9219" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="330" y="71.6094"/><rect fill="#FFFFFF" filter="url(#f1ocdza8zqxwg6)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="330" y="629.5859"/><rect fill="#FFFFFF" filter="url(#f1ocdza8zqxwg6)" height="287.5156" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="543" y="101.9609"/><rect fill="#FFFFFF" filter="url(#f1ocdza8zqxwg6)" height="30.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="543" y="419.4766"/><rect fill="#FFFFFF" filter="url(#f1ocdza8zqxwg6)" height="182.1094" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="756" y="193.0156"/><rect fill="#FFFFFF" filter="url(#f1ocdza8zqxwg6)" height="163.4063" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="756" y="524.5313"/><rect fill="#FFFFFF" filter="url(#f1ocdza8zqxwg6)" height="91.0547" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="969" y="253.7188"/><rect fill="#FFFFFF" filter="url(#f1ocdza8zqxwg6)" height="133.0547" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="969" y="554.8828"/><rect fill="#FFFFFF" filter="url(#f1ocdza8zqxwg6)" height="30.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1112" y="132.3125"/><rect fill="#FFFFFF" filter="url(#f1ocdza8zqxwg6)" height="30.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1320" y="284.0703"/><rect fill="#FFFFFF" filter="url(#f1ocdza8zqxwg6)" height="88.7031" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1320" y="585.2344"/><rect fill="#FFFFFF" filter="url(#f1ocdza8zqxwg6)" height="301.1641" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1452.5" y="223.3672"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="114" x2="114" y1="39.6094" y2="705.9375"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="335" x2="335" y1="39.6094" y2="705.9375"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="548" x2="548" y1="39.6094" y2="705.9375"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="761" x2="761" y1="39.6094" y2="705.9375"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="973.5" x2="973.5" y1="39.6094" y2="705.9375"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1116.5" x2="1116.5" y1="39.6094" y2="705.9375"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1324.5" x2="1324.5" y1="39.6094" y2="705.9375"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1457.5" x2="1457.5" y1="39.6094" y2="705.9375"/><rect fill="#FEFECE" filter="url(#f1ocdza8zqxwg6)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="208" x="8" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="194" x="15" y="24.5332">friends : LiveData&lt;List&lt;User&gt;&gt;</text><rect fill="#FEFECE" filter="url(#f1ocdza8zqxwg6)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="208" x="8" y="704.9375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="194" x="15" y="726.4707">friends : LiveData&lt;List&lt;User&gt;&gt;</text><rect fill="#FEFECE" filter="url(#f1ocdza8zqxwg6)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="206" x="230" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="192" x="237" y="24.5332">fragment : FriendListFragment</text><rect fill="#FEFECE" filter="url(#f1ocdza8zqxwg6)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="206" x="230" y="704.9375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="192" x="237" y="726.4707">fragment : FriendListFragment</text><rect fill="#FEFECE" filter="url(#f1ocdza8zqxwg6)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="174" x="459" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="160" x="466" y="24.5332">vm : FriendListViewModel</text><rect fill="#FEFECE" filter="url(#f1ocdza8zqxwg6)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="174" x="459" y="704.9375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="160" x="466" y="726.4707">vm : FriendListViewModel</text><rect fill="#FEFECE" filter="url(#f1ocdza8zqxwg6)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="164" x="677" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="150" x="684" y="24.5332">repo : FriendRepository</text><rect fill="#FEFECE" filter="url(#f1ocdza8zqxwg6)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="164" x="677" y="704.9375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="150" x="684" y="726.4707">repo : FriendRepository</text><rect fill="#FEFECE" filter="url(#f1ocdza8zqxwg6)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="135" x="904.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="121" x="911.5" y="24.5332">userDao : UserDao</text><rect fill="#FEFECE" filter="url(#f1ocdza8zqxwg6)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="135" x="904.5" y="704.9375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="121" x="911.5" y="726.4707">userDao : UserDao</text><rect fill="#FEFECE" filter="url(#f1ocdza8zqxwg6)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="123" x="1053.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="109" x="1060.5" y="24.5332">FriendRepository</text><rect fill="#FEFECE" filter="url(#f1ocdza8zqxwg6)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="123" x="1053.5" y="704.9375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="109" x="1060.5" y="726.4707">FriendRepository</text><rect fill="#FEFECE" filter="url(#f1ocdza8zqxwg6)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="109" x="1268.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="95" x="1275.5" y="24.5332">: treffDataBase</text><rect fill="#FEFECE" filter="url(#f1ocdza8zqxwg6)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="109" x="1268.5" y="704.9375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="95" x="1275.5" y="726.4707">: treffDataBase</text><rect fill="#FEFECE" filter="url(#f1ocdza8zqxwg6)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="128" x="1391.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="114" x="1398.5" y="24.5332">: RequestEncoder</text><rect fill="#FEFECE" filter="url(#f1ocdza8zqxwg6)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="128" x="1391.5" y="704.9375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="114" x="1398.5" y="726.4707">: RequestEncoder</text><rect fill="#FFFFFF" filter="url(#f1ocdza8zqxwg6)" height="14.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="109" y="480.1797"/><rect fill="#FFFFFF" filter="url(#f1ocdza8zqxwg6)" height="60" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="109" y="599.5859"/><rect fill="#FFFFFF" filter="url(#f1ocdza8zqxwg6)" height="452.9219" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="330" y="71.6094"/><rect fill="#FFFFFF" filter="url(#f1ocdza8zqxwg6)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="330" y="629.5859"/><rect fill="#FFFFFF" filter="url(#f1ocdza8zqxwg6)" height="287.5156" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="543" y="101.9609"/><rect fill="#FFFFFF" filter="url(#f1ocdza8zqxwg6)" height="30.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="543" y="419.4766"/><rect fill="#FFFFFF" filter="url(#f1ocdza8zqxwg6)" height="182.1094" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="756" y="193.0156"/><rect fill="#FFFFFF" filter="url(#f1ocdza8zqxwg6)" height="163.4063" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="756" y="524.5313"/><rect fill="#FFFFFF" filter="url(#f1ocdza8zqxwg6)" height="91.0547" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="969" y="253.7188"/><rect fill="#FFFFFF" filter="url(#f1ocdza8zqxwg6)" height="133.0547" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="969" y="554.8828"/><rect fill="#FFFFFF" filter="url(#f1ocdza8zqxwg6)" height="30.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1112" y="132.3125"/><rect fill="#FFFFFF" filter="url(#f1ocdza8zqxwg6)" height="30.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1320" y="284.0703"/><rect fill="#FFFFFF" filter="url(#f1ocdza8zqxwg6)" height="88.7031" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1320" y="585.2344"/><rect fill="#FFFFFF" filter="url(#f1ocdza8zqxwg6)" height="301.1641" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1452.5" y="223.3672"/><polygon fill="#A80036" points="318,67.6094,328,71.6094,318,75.6094,322,71.6094" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="3" x2="324" y1="71.6094" y2="71.6094"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="100" x="10" y="67.1045">onCreateView(...)</text><polygon fill="#A80036" points="531,97.9609,541,101.9609,531,105.9609,535,101.9609" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="340" x2="537" y1="101.9609" y2="101.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="68" x="347" y="97.4561">&lt;&lt;create&gt;&gt;</text><polygon fill="#A80036" points="1100,128.3125,1110,132.3125,1100,136.3125,1104,132.3125" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="553" x2="1106" y1="132.3125" y2="132.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="60" x="560" y="127.8076">getEntity()</text><polygon fill="#A80036" points="564,158.6641,554,162.6641,564,166.6641,560,162.6641" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="558" x2="1116" y1="162.6641" y2="162.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="135" x="570" y="158.1592">repo : FriendRepository</text><polygon fill="#A80036" points="744,189.0156,754,193.0156,744,197.0156,748,193.0156" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="553" x2="750" y1="193.0156" y2="193.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="69" x="560" y="188.5107">getFriends()</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="1450.5" x2="1440.5" y1="223.3672" y2="219.3672"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1450.5" x2="1440.5" y1="223.3672" y2="227.3672"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="766" x2="1451.5" y1="223.3672" y2="223.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="78" x="773" y="218.8623">getContacts()</text><polygon fill="#A80036" points="957,249.7188,967,253.7188,957,257.7188,961,253.7188" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="766" x2="963" y1="253.7188" y2="253.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="69" x="773" y="249.2139">getFriends()</text><polygon fill="#A80036" points="1308,280.0703,1318,284.0703,1308,288.0703,1312,284.0703" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="979" x2="1314" y1="284.0703" y2="284.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="322" x="986" y="279.5654">@Query("SELECT * FROM user WHERE isFriend = 1")</text><polygon fill="#A80036" points="990,310.4219,980,314.4219,990,318.4219,986,314.4219" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="984" x2="1324" y1="314.4219" y2="314.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="996" y="309.917">: Cursor</text><polygon fill="#A80036" points="777,340.7734,767,344.7734,777,348.7734,773,344.7734" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="771" x2="973" y1="344.7734" y2="344.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="179" x="783" y="340.2686">friends : LiveData&lt;List&lt;User&gt;&gt;</text><polygon fill="#A80036" points="564,371.125,554,375.125,564,379.125,560,375.125" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="558" x2="760" y1="375.125" y2="375.125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="179" x="570" y="370.6201">friends : LiveData&lt;List&lt;User&gt;&gt;</text><polygon fill="#A80036" points="351,385.4766,341,389.4766,351,393.4766,347,389.4766" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="345" x2="547" y1="389.4766" y2="389.4766"/><polygon fill="#A80036" points="531,415.4766,541,419.4766,531,423.4766,535,419.4766" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="340" x2="537" y1="419.4766" y2="419.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="69" x="347" y="414.9717">getFriends()</text><polygon fill="#A80036" points="351,445.8281,341,449.8281,351,453.8281,347,449.8281" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="345" x2="547" y1="449.8281" y2="449.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="179" x="357" y="445.3232">friends : LiveData&lt;List&lt;User&gt;&gt;</text><polygon fill="#A80036" points="130,476.1797,120,480.1797,130,484.1797,126,480.1797" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="124" x2="329" y1="480.1797" y2="480.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="73" x="136" y="475.6748">observe(this)</text><polygon fill="#A80036" points="318,490.5313,328,494.5313,318,498.5313,322,494.5313" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="114" x2="324" y1="494.5313" y2="494.5313"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="766" x2="776" y1="524.5313" y2="520.5313"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="766" x2="776" y1="524.5313" y2="528.5313"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="766" x2="1456.5" y1="524.5313" y2="524.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="142" x="783" y="520.0264">newFriends : List&lt;User&gt;</text><polygon fill="#A80036" points="957,550.8828,967,554.8828,957,558.8828,961,554.8828" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="766" x2="963" y1="554.8828" y2="554.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="129" x="773" y="550.3779">addUsers(newFriends)</text><polygon fill="#A80036" points="1308,581.2344,1318,585.2344,1308,589.2344,1312,585.2344" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="979" x2="1314" y1="585.2344" y2="585.2344"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="45" x="986" y="580.7295">@Insert</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="119" x2="129" y1="599.5859" y2="595.5859"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="119" x2="129" y1="599.5859" y2="603.5859"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="119" x2="1319" y1="599.5859" y2="599.5859"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="328" x2="318" y1="629.5859" y2="625.5859"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="328" x2="318" y1="629.5859" y2="633.5859"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="119" x2="329" y1="629.5859" y2="629.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="73" x="126" y="625.0811">onChanged()</text><polygon fill="#A80036" points="990,669.9375,980,673.9375,990,677.9375,986,673.9375" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="984" x2="1324" y1="673.9375" y2="673.9375"/><polygon fill="#A80036" points="772,683.9375,762,687.9375,772,691.9375,768,687.9375" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="766" x2="973" y1="687.9375" y2="687.9375"/><!--
@startuml
participant "friends : LiveData<List<User>>" as LD
participant "fragment : FriendListFragment" as FLF
participant "vm : FriendListViewModel" as VM
participant "repo : FriendRepository" as REP
participant "userDao : UserDao" as DAO
participant "FriendRepository" as FR
participant ": treffDataBase" as DB
participant ": RequestEncoder" as ENC

-> FLF: onCreateView(...)
activate FLF
FLF -> VM: <<create>>
activate VM
VM -> FR: getEntity()
activate FR
FR - -> VM: repo : FriendRepository
deactivate FR
VM -> REP: getFriends()
activate REP
REP ->> ENC: getContacts()
activate ENC
REP -> DAO: getFriends()
activate DAO
DAO -> DB: @Query("SELECT * FROM user WHERE isFriend = 1")
activate DB
DB - -> DAO: : Cursor
deactivate DB
DAO - -> REP: friends : LiveData<List<User>>
deactivate DAO
REP - -> VM: friends : LiveData<List<User>>
deactivate REP
VM - -> FLF
deactivate VM

FLF -> VM: getFriends()
activate VM
VM -> FLF: friends : LiveData<List<User>>
deactivate VM
FLF -> LD: observe(this)
activate LD
LD - -> FLF
deactivate LD

ENC - ->> REP: newFriends : List<User>
deactivate FLF
deactivate ENC
activate REP
REP -> DAO:addUsers(newFriends)
activate DAO
DAO -> DB: @Insert
activate DB
DB ->> LD
activate LD
LD ->> FLF: onChanged()
activate FLF
deactivate LD
deactivate FLF
DB - -> DAO
deactivate DB
DAO - -> REP
deactivate DAO
deactivate REP

@enduml

PlantUML version 1.2017.15(Mon Jul 03 18:45:34 CEST 2017)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 1.8.0_152-release-915-b01
Operating System: Windows 10
OS Version: 10.0
Default Encoding: Cp1252
Language: en
Country: US
--></g></svg>